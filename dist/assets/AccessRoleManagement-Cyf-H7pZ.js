import{_ as w}from"./index.vue_vue_type_script_setup_true_lang-DrjQ59DJ.js";import{d as x,A as e,c as y,L as A,b,i as _,e as i,w as v,E as I,a as G,f as R,o as k,_ as M}from"./index-DvlLjNFd.js";/* empty css                  */import{R as D}from"./roleService-6cFc2ecF.js";const N={class:"grid-box"},L={class:"grid-header-box"},S=_("p",{class:"subtitle-font"},"접근권한- 추가/저장버튼 미완",-1),E={class:"button-box"},O=x({__name:"AccessRoleLeftGridList",props:{dataProp:{type:Object}},emits:["menuChange"],setup(h,{emit:l}){const n=h,a=l,p=e([{headerName:"No.",headerClass:"centered",cellClass:"centered",valueGetter:"node.rowIndex + 1",width:80,suppressSizeToFit:!0,cellStyle:{filter:"text"}},{field:"accessRightName",headerName:"접근권한명",headerClass:"centered",editable:!0,width:300,cellStyle:{filter:"text",sortable:!0,cursor:"pointer"}}]),c=e(null),m=e(null);e(null),e(null);const f=y(()=>c.value||[]);A(n,()=>{t()});const t=()=>{console.log("setPopupInfo",n.dataProp),c.value=n.dataProp},s=d=>{m.value=d.api},r=d=>{console.log("onGridCellClick : ",d),a("menuChange",d.data.accessRightId)},g=()=>{m.value.setGridOption("columnDefs",p)};return(d,o)=>{const u=I,C=w;return G(),b("div",N,[_("div",L,[S,_("div",E,[i(u,{class:"basic-button",round:"",onClick:g},{default:v(()=>[R("추가")]),_:1}),i(u,{class:"basic-button",round:""},{default:v(()=>[R("저장")]),_:1})])]),i(C,{ref:"memberGridRef",style:{height:"550px"},class:"ag-theme-quartz px-5 py-3",rowData:f.value,columnDefs:p.value,onOnGridReady:s,onOnGridCellClick:r},null,8,["rowData","columnDefs"])])}}}),$={class:"grid-box"},B={class:"grid-header-box"},z=_("p",{class:"subtitle-font"},"메뉴",-1),T=x({__name:"AccessRoleMenuGridList",props:{dataProp:{type:Object}},setup(h){const l=h,n=e([{field:"menuName",headerName:"메뉴",headerClass:"centered",cellStyle:{filter:"text",sortable:!0,cursor:"pointer"}},{field:"accessYn",headerName:"접근권한",headerClass:"centered",cellClass:"centered",width:150,suppressSizeToFit:!0,cellRenderer:o=>{const u=document.createElement("input");return u.type="checkbox",u.checked=o.value==="Y",u}}]),a=e(null),p=e(null),c=e(null);e(null);const m=e(null),f=e(null),t=y(()=>a.value||[]);k(()=>{r(),c.value=0,f.value={headerName:"No.",valueGetter:"node.rowIndex + 1",width:100,suppressSizeToFit:!0,cellRendererParams:{suppressCount:!1}}}),A(l,()=>{r()});const s=o=>{p.value=o==null?void 0:o.api},r=()=>{console.log("setPopupInfo",l.dataProp),a.value=l.dataProp},g=o=>{o.colDef.field==="emailId"||o.colDef.field==="userName"||o.colDef.field==="userId"||console.log("~~~~~~ etc Cell Click : ")},d=()=>{console.log("~~~~~~ etc Cell Click : ")};return(o,u)=>{const C=I,P=w;return G(),b("div",$,[_("div",B,[z,i(C,{class:"basic-button flex justify-end",round:"",onClick:d},{default:v(()=>[R("저장")]),_:1})]),i(P,{ref:"memberGridRef",style:{height:"550px"},class:"ag-theme-quartz px-5 py-3",columnDefs:n.value,rowData:t.value,onOnGridReady:s,onOnGridCellClick:g,groupDefaultExpanded:c.value,getRowId:m.value,autoGroupColumnDef:f.value},null,8,["columnDefs","rowData","groupDefaultExpanded","getRowId","autoGroupColumnDef"])])}}}),j={style:{display:"flex"}},F=x({__name:"AccessRoleManagement",setup(h){const l=e(null),n=e(null),a=e(null),p=e(null),c=()=>{D.getAccessRoleList().then(t=>{console.log("getAccessRoleList ",t.data),l.value=t.data})},m=t=>{p.value=t;const s={accessRightId:t};D.getAccessRoleMenuMap(s).then(r=>{console.log("getAccessRoleMenuMap ",r.data),a.value=r.data})};k(()=>{c()});const f=(t,s)=>{n.value="메뉴 - "+(s||"없음"),m(t)};return(t,s)=>(G(),b("div",j,[i(O,{class:"margin-width30-left",dataProp:l.value,onMenuChange:f},null,8,["dataProp"]),i(T,{class:"margin-width70-right",dataProp:a.value},null,8,["dataProp"])]))}}),J=M(F,[["__scopeId","data-v-e4298292"]]);export{J as default};
